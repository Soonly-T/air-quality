import requests

# Your bot token from BotFather
BOT_TOKEN = "8020379908:AAE5oD5MS73BnjcMKd2wSQrj34drgbo6w4s"

# URL to get updates
url = f"https://api.telegram.org/bot{BOT_TOKEN}/getUpdates"

# Make the request to Telegram API
response = requests.get(url)

# Parse the JSON response
if response.status_code == 200:  # Ensure the request was successful
    updates = response.json()
    print("Updates:", updates)
    
    # Extract chat IDs from the updates
    if "result" in updates:
        for update in updates["result"]:
            if "message" in update:
                chat_id = update["message"]["chat"]["id"]
                print(f"Chat ID: {chat_id}")
else:
    print(f"Failed to fetch updates. Error code: {response.status_code}")
